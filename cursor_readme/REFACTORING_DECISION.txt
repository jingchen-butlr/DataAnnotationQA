â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   FOR DL TRAINING PIPELINE - REFACTORING DECISION          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Based on your requirement: "Read annotation JSON, use data_time and MAC 
to fetch from TDengine, prepare for DL training"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… KEEP THESE - ESSENTIAL FOR DL TRAINING (7 files)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. prepare_training_data.py (NEW!)
   â†’ Main pipeline: annotation JSON â†’ TDengine â†’ YOLO dataset
   â†’ ONE COMMAND to prepare training data
   
2. export_yolo_annotations.py
   â†’ Export YOLO format (labels, images, config)
   
3. src/visualize_annotations/loader.py
   â†’ Read annotation JSON
   â†’ Extract data_time timestamps
   â†’ Match annotations to frames
   
4. src/thermal_data_processing/data_loader.py
   â†’ Load thermal data from TXT files
   â†’ Convert deciKelvin to Celsius
   
5. diagnose_tdengine.py
   â†’ Test TDengine connection
   â†’ Troubleshoot issues
   
6. export_from_tdengine.sh
   â†’ Helper script for manual TDengine export
   
7. dependent_tools/tdengine_export/tools/export_tool/
   â†’ Fetch data from TDengine database
   â†’ Used by prepare_training_data.py

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ KEEP THESE IF YOU WANT QA VIDEOS (3 files) - OPTIONAL
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

8. create_annotation_video.py
   â†’ Create videos to review annotations before training
   â†’ QA verification tool
   
9. src/visualize_annotations/visualizer.py
   â†’ Render bounding boxes and labels
   â†’ Used for video creation
   
10. src/visualize_annotations/video_exporter.py
    â†’ Export MP4 videos
    â†’ Used for video creation

USE CASE: Review annotation quality before starting expensive training

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âŒ REMOVE THESE - NOT NEEDED FOR DL TRAINING (4 files)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã— visualize_annotations.py (292 lines)
  â†’ Interactive matplotlib viewer
  â†’ Redundant with prepare_training_data + create_annotation_video
  â†’ NOT used in training pipeline
  
Ã— visualize_raw_thermal.py (150 lines)
  â†’ Visualize without annotations
  â†’ Not useful for training (need annotations!)
  â†’ NOT used in training pipeline
  
Ã— src/thermal_data_processing/streaming_data_loader.py (257 lines)
  â†’ Load SQS streaming format
  â†’ Different data format from TDengine
  â†’ NOT used in training pipeline
  
Ã— src/thermal_data_processing/frame_processor.py (211 lines)
  â†’ Advanced temperature processing
  â†’ Not needed for training prep
  â†’ NOT used in training pipeline

IMPACT: Remove 910 lines (38%) with NO impact on training pipeline

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š SUMMARY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Current code: 2,400 lines Python
Essential for DL: 1,300 lines (with QA: 1,900 lines)
Removable: 910 lines (38%)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ RECOMMENDED CONFIGURATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

MINIMAL (Training only):
  Keep: 7 essential files
  Remove: 7 files (QA + unused)
  Result: 1,300 lines, pure training pipeline

RECOMMENDED (Training + QA):
  Keep: 10 files (essential + QA)
  Remove: 4 files (unused only)
  Result: 1,900 lines, training + verification

CURRENT (Everything):
  Keep: All 14+ files
  Remove: Nothing
  Result: 2,400 lines, all features

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš€ QUICK START (Training Pipeline)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# Prepare training data (automated)
uv run python prepare_training_data.py \
    --annotation Data/annotations/your_file.json \
    --mac 02:00:1a:62:51:67 \
    --output training_data/session_001

# Train model (YOLOv8)
yolo train data=training_data/session_001/yolo/dataset.yaml \
    model=yolov8n.pt epochs=100

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

DECISION: 
- For pure DL training: Keep 7 essential files
- For DL + QA review: Keep 10 files (recommended)
- Can safely remove: 4 files (910 lines, 38%)

See DL_FEATURES_ESSENTIAL.md and REFACTORING_GUIDE.md for details.

